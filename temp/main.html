<html>
<head>
<title>Testing if we can post message to iframe</title>
<script language="Javascript">
function post() {
var data = {};
var elements = document.forms[0].elements;
var i=0;
for (i=0; i<elements.length; i++) data[elements[i].name] = elements[i].value;

console.log("sending " + data + " to child");
frames[0].postMessage(JSON.stringify(data), "*");
}
</script>
</head>
<body>
This is a test
<form>
Name <input type="text" name="a" value="a1" />
Name <input type="text" name="b" value="b1" />
</form>
<a href="#" onClick="post()">Refresh</a><br />
<iframe allowfullscreen="true" id="child" name="child" src="file://c:/temp/iframe.html" width="600px" height="600px" />
</body>
</html>